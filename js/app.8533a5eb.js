(function(e){function t(t){for(var a,c,i=t[0],s=t[1],l=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&f.push(o[c][0]),o[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="./";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"2ad7":function(e,t,n){},"346b":function(e,t,n){"use strict";n("2ad7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("router-view")],1)},r=[],c={name:"app"},i=c,s=(n("034f"),n("2877")),l=Object(s["a"])(i,o,r,!1,null,null,null),u=l.exports,d=(n("5363"),n("289d")),f=(n("5abe"),n("4de4"),n("d3b7"),n("99af"),new Intl.DateTimeFormat("es-MX",{dateStyle:"medium"})),p=new Intl.NumberFormat("en",{style:"currency",currency:"MXN"}),m=864e5,b=365*m,h=b/12;a["a"].filter("dinero",(function(e){return p.format(e)})),a["a"].filter("timestampAFecha",(function(e){return e?f.format(new Date(e)):""})),a["a"].filter("diferenciaAEdad",(function(e){if(!e)return"";var t="",n=Math.floor(e/b);e-=n*b;var a=Math.floor(e/h);e-=a*h;var o=Math.floor(e/m);return n>0&&(t+="".concat(n," año").concat(n>1?"s":""," ")),a>0&&(t+="".concat(a," mes").concat(a>1?"es":""," ")),o>0&&(t+="".concat(o," día").concat(o>1?"s":"")),t})),a["a"].filter("edad",(function(e){if(!e)return"";var t="",n=new Date(e),a=new Date,o=a-n,r=Math.floor(o/b);o-=r*b;var c=Math.floor(o/h);o-=c*h;var i=Math.floor(o/m);return r>0&&(t+="".concat(r," año").concat(r>1?"s":""," ")),c>0&&(t+="".concat(c," mes").concat(c>1?"es":""," ")),i>0&&(t+="".concat(i," día").concat(i>1?"s":"")),t}));var v=n("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-tabs",{attrs:{type:"is-boxed",position:"is-centered"},model:{value:e.tabActiva,callback:function(t){e.tabActiva=t},expression:"tabActiva"}},[n("b-tab-item",{attrs:{icon:"plus",label:""}},[n("agregar-conejo")],1),n("b-tab-item",{attrs:{icon:"rabbit",label:""}},[n("conejos")],1),n("b-tab-item",{attrs:{icon:"cash",label:""}},[n("ventas")],1),n("b-tab-item",{attrs:{icon:"information"}},[n("acerca-de")],1)],1)},j=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("b-field",{attrs:{label:"Padre"}},[n("b-select",{attrs:{loading:e.cargando,placeholder:"Seleccione un conejo"},model:{value:e.conejo.padre,callback:function(t){e.$set(e.conejo,"padre",t)},expression:"conejo.padre"}},e._l(e.conejos,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.identificador)+" ")])})),0)],1),n("b-field",{attrs:{label:"Madre"}},[n("b-select",{attrs:{loading:e.cargando,placeholder:"Seleccione una coneja"},model:{value:e.conejo.madre,callback:function(t){e.$set(e.conejo,"madre",t)},expression:"conejo.madre"}},e._l(e.conejas,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.identificador)+" ")])})),0)],1),n("b-field",{attrs:{label:"Identificador"}},[n("b-input",{attrs:{placeholder:"Identificador"},model:{value:e.conejo.identificador,callback:function(t){e.$set(e.conejo,"identificador",t)},expression:"conejo.identificador"}})],1),n("b-field",{attrs:{label:"Género"}},[n("b-radio",{attrs:{name:"name","native-value":"M"},model:{value:e.conejo.genero,callback:function(t){e.$set(e.conejo,"genero",t)},expression:"conejo.genero"}},[e._v(" Macho ")]),n("b-radio",{attrs:{name:"name","native-value":"H"},model:{value:e.conejo.genero,callback:function(t){e.$set(e.conejo,"genero",t)},expression:"conejo.genero"}},[e._v(" Hembra ")])],1),n("b-field",{attrs:{label:"Fecha de nacimiento"}},[n("b-datepicker",{attrs:{locale:"es-MX",placeholder:"Clic para seleccionar...",icon:"calendar-today","trap-focus":"","icon-right":e.conejo.fechaNacimiento?"close-circle":"","icon-right-clickable":""},on:{"icon-right-click":function(t){e.conejo.fechaNacimiento=null}},model:{value:e.conejo.fechaNacimiento,callback:function(t){e.$set(e.conejo,"fechaNacimiento",t)},expression:"conejo.fechaNacimiento"}})],1),n("b-field",[n("b-upload",{attrs:{multiple:"","drag-drop":"",expanded:""},model:{value:e.conejo.fotos,callback:function(t){e.$set(e.conejo,"fotos",t)},expression:"conejo.fotos"}},[n("section",{staticClass:"section"},[n("div",{staticClass:"content has-text-centered"},[n("p",[n("b-icon",{attrs:{icon:"upload",size:"is-large"}})],1),n("p",[e._v("Clic aquí para buscar las fotos")])])])])],1),n("div",{staticClass:"tags"},e._l(e.conejo.fotos,(function(t,a){return n("span",{key:a,staticClass:"tag is-primary"},[e._v(" "+e._s(t.name)+" "),n("button",{staticClass:"delete is-small",attrs:{type:"button"},on:{click:function(t){return e.eliminarFoto(a)}}})])})),0),n("b-button",{attrs:{loading:e.cargando,type:"is-success"},on:{click:function(t){return e.guardar()}}},[e._v("Guardar")])],1)])},C=[],_=n("b85c"),x=n("1da1"),y=(n("c740"),n("159b"),n("a434"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("b0c0"),n("96cf"),n("e71f")),k=(n("25f0"),n("260b")),O=n("588e"),F=n("aced"),S=!1,R={obtener:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={apiKey:"AIzaSyCAW6xWHVFlvCleBg-Nmqn6ghT20YzSMRk",authDomain:"cunicultura-app.firebaseapp.com",databaseURL:"",projectId:"cunicultura-app",storageBucket:"cunicultura-app.appspot.com",messagingSenderId:"23487870452",appId:"1:23487870452:web:3b25575b0c9a7afb65f5a1"},n=Object(k["a"])(t),a=Object(y["g"])(n),e.next=5;break;case 5:if(!S){e.next=7;break}return e.abrupt("return",a);case 7:return e.prev=7,e.next=10,Object(y["e"])(a);case 10:F["a"].open({message:"Modo fuera de línea habilitado correctamente",type:"is-success"}),S=!0,e.next=21;break;case 14:e.prev=14,e.t0=e["catch"](7),console.log({err:e.t0}),o="","failed-precondition"==e.t0.code?o="Error: recuerda no tener varias pestañas abiertas con la app":"unimplemented"==e.t0.code&&(o="Error: el navegador que usas no soporta el modo fuera de línea. Cambia de navegador"),o+=" "+e.t0.toString(),F["a"].open({message:o,type:"is-danger"});case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e,null,[[7,14]])})));function t(){return e.apply(this,arguments)}return t}(),obtenerStorage:function(){return Object(O["c"])()},obtenerColeccionConejos:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=y["b"],e.next=3,R.obtener();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"conejos"));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),obtenerColeccionVentas:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=y["b"],e.next=3,R.obtener();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"ventas"));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),obtenerColeccionApareamientos:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=y["b"],e.next=3,R.obtener();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1,"apareamientos"));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},$=R,E={mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cargando=!0,t.next=3,$.obtenerColeccionConejos();case 3:return e.coleccionConejos=t.sent,t.next=6,e.obtenerConejosYEscucharCambios();case 6:return t.next=8,e.obtenerConejasYEscucharCambios();case 8:e.cargando=!1;case 9:case"end":return t.stop()}}),t)})))()},data:function(){return{conejo:{padre:null,madre:null,identificador:"",fechaNacimiento:null,fotos:[],genero:"M"},conejos:[],conejas:[],cargando:!1,coleccionConejos:null}},methods:{indiceDeConeja:function(e){return this.conejas.findIndex((function(t){return t.id===e}))},indiceDeConejo:function(e){return this.conejos.findIndex((function(t){return t.id===e}))},obtenerConejosYEscucharCambios:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(y["i"])(e.coleccionConejos,Object(y["k"])("genero","==","M"),Object(y["k"])("fechaFallecimiento","==",null),Object(y["k"])("vendido","==",!1)),Object(y["h"])(n,(function(t){e.cargando=!0,t.docChanges().forEach((function(t){var n=t.doc.data(),a=t.doc.id;if("added"===t.type&&(n.id=a,e.conejos.push(n)),"modified"===t.type){var o=e.indiceDeConejo(a);-1!==o&&e.$set(e.conejos,o,n)}if("removed"===t.type){var r=e.indiceDeConejo(a);-1!==r&&e.conejos.splice(r,1)}})),e.cargando=!1}));case 2:case"end":return t.stop()}}),t)})))()},obtenerConejasYEscucharCambios:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(y["i"])(e.coleccionConejos,Object(y["k"])("genero","==","H"),Object(y["k"])("fechaFallecimiento","==",null),Object(y["k"])("vendido","==",!1)),Object(y["h"])(n,(function(t){e.cargando=!0,t.docChanges().forEach((function(t){var n=t.doc.data(),a=t.doc.id;if("added"===t.type&&(n.id=a,e.conejas.push(n)),"modified"===t.type){var o=e.indiceDeConeja(a);-1!==o&&e.$set(e.conejas,o,n)}if("removed"===t.type){var r=e.indiceDeConeja(a);-1!==r&&e.conejas.splice(r,1)}})),e.cargando=!1}));case 2:case"end":return t.stop()}}),t)})))()},eliminarFoto:function(e){this.conejo.fotos.splice(e,1)},comprimirImagen:function(e,t){return new Promise((function(n,a){var o=document.createElement("canvas"),r=new Image;r.onload=function(){o.width=r.width,o.height=r.height,o.getContext("2d").drawImage(r,0,0),o.toBlob((function(e){if(null===e)return a(e);n(e)}),"image/jpeg",t/100)},r.src=URL.createObjectURL(e)}))},guardar:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,a,o,r,c,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.conejo.identificador){t.next=2;break}return t.abrupt("return");case 2:if(e.cargando=!0,n=Object.assign({},e.conejo),Object.assign(n,e.conejo),a=n.fotos,n.fotos=[],n.fechaFallecimiento=null,n.vendido=!1,n.fechaNacimiento&&(n.fechaNacimiento.setHours(0,0,0,0),n.fechaNacimiento=n.fechaNacimiento.getTime()),n.padre&&(n.padre=n.padre.identificador),n.madre&&(n.madre=n.madre.identificador),!(a.length>0)){t.next=37;break}o=Object(_["a"])(a),t.prev=14,o.s();case 16:if((r=o.n()).done){t.next=29;break}return c=r.value,n.fotos.push(c.name),i=Object(O["d"])(Object(O["c"])(),"conejos/"+n.identificador+"/"+c.name),t.t0=O["e"],t.t1=i,t.next=24,e.comprimirImagen(c,20);case 24:return t.t2=t.sent,t.next=27,(0,t.t0)(t.t1,t.t2);case 27:t.next=16;break;case 29:t.next=34;break;case 31:t.prev=31,t.t3=t["catch"](14),o.e(t.t3);case 34:return t.prev=34,o.f(),t.finish(34);case 37:Object(y["a"])(e.coleccionConejos,n),e.cargando=!1,e.$buefy.toast.open("Registro correcto"),e.conejo.identificador="",e.conejo.fechaNacimiento=null,e.conejo.fotos=[];case 43:case"end":return t.stop()}}),t,null,[[14,31,34,37]])})))()}}},M=E,I=Object(s["a"])(M,w,C,!1,null,null,null),N=I.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("div",{staticClass:"control"},[n("b-button",{attrs:{"icon-right":"filter-variant",type:"is-info"},on:{click:function(t){e.mostrarFiltros=!e.mostrarFiltros}}},[e._v("Filtrar")]),e._v("   "),n("b-taglist",{staticStyle:{display:"inline"},attrs:{attached:""}},[n("b-tag",{staticClass:"color-conejo",attrs:{size:"is-medium"}},[n("b-icon",{attrs:{icon:"gender-male"}}),e._v(" "+e._s(e.totalMachos()))],1),n("b-tag",{staticClass:"color-coneja",attrs:{size:"is-medium"}},[n("b-icon",{attrs:{icon:"gender-female"}}),e._v(" "+e._s(e.totalHembras()))],1),n("b-tag",{attrs:{size:"is-medium",type:"is-warning"}},[n("b-icon",{attrs:{icon:"sigma"}}),e._v(" "+e._s(e.totalMachos()+e.totalHembras()))],1)],1)],1)])]),n("div",{staticClass:"columns"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.mostrarFiltros,expression:"mostrarFiltros"}],staticClass:"column"},[n("b-field",{attrs:{label:"Estado"}},[n("b-select",{attrs:{loading:e.cargando,expanded:"",icon:"coffin"},nativeOn:{change:function(t){return e.obtenerConejosYEscucharCambios()}},model:{value:e.filtrosSeleccionados.fallecidos,callback:function(t){e.$set(e.filtrosSeleccionados,"fallecidos",t)},expression:"filtrosSeleccionados.fallecidos"}},e._l(e.filtros.fallecidos,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)],1),n("b-field",[n("b-select",{attrs:{loading:e.cargando,expanded:"",icon:"cash"},nativeOn:{change:function(t){return e.obtenerConejosYEscucharCambios()}},model:{value:e.filtrosSeleccionados.vendidos,callback:function(t){e.$set(e.filtrosSeleccionados,"vendidos",t)},expression:"filtrosSeleccionados.vendidos"}},e._l(e.filtros.vendidos,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)],1),n("b-field",{attrs:{label:"Género"}},[n("b-select",{attrs:{loading:e.cargando,expanded:"",icon:"gender-male"},nativeOn:{change:function(t){return e.obtenerConejosYEscucharCambios()}},model:{value:e.filtrosSeleccionados.genero,callback:function(t){e.$set(e.filtrosSeleccionados,"genero",t)},expression:"filtrosSeleccionados.genero"}},e._l(e.filtros.generos,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)],1)],1)]),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("b-table",{attrs:{data:e.conejos,loading:e.cargando,"mobile-cards":!0,hoverable:""},scopedSlots:e._u([{key:"empty",fn:function(){return[n("div",{staticClass:"has-text-centered"},[e._v("No hay registros")])]},proxy:!0}])},[n("b-table-column",{attrs:{field:"identificador",label:"Identificador"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.identificador)+" ")]}}])}),n("b-table-column",{attrs:{field:"genero",label:"Género"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:"H"===e.row.genero,expression:"props.row.genero === 'H'"}],staticClass:"icono-coneja",attrs:{icon:"gender-female"}}),n("b-icon",{directives:[{name:"show",rawName:"v-show",value:"M"===e.row.genero,expression:"props.row.genero === 'M'"}],staticClass:"icono-conejo",attrs:{icon:"gender-male"}})]}}])}),n("b-table-column",{attrs:{field:"padre",label:"Padres"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-tag",{directives:[{name:"show",rawName:"v-show",value:t.row.madre,expression:"props.row.madre"}],staticClass:"color-coneja",attrs:{size:"is-medium"}},[e._v(e._s(t.row.madre))]),e._v("   "),n("b-tag",{directives:[{name:"show",rawName:"v-show",value:t.row.padre,expression:"props.row.padre"}],staticClass:"color-conejo",attrs:{size:"is-medium"}},[e._v(e._s(t.row.padre))])]}}])}),n("b-table-column",{attrs:{field:"fotos"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("fotos-de-conejo",{attrs:{conejo:e.row}})]}}])}),n("b-table-column",{attrs:{label:"Edad"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("timestampAFecha")(t.row.fechaNacimiento))+" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.row.fechaFallecimiento,expression:"props.row.fechaFallecimiento"}]},[e._v(" - "+e._s(e._f("timestampAFecha")(t.row.fechaFallecimiento))+" "),n("b-icon",{attrs:{icon:"coffin"}})],1),t.row.fechaFallecimiento?n("span",[e._v("("+e._s(e._f("diferenciaAEdad")(t.row.fechaFallecimiento-t.row.fechaNacimiento))+")")]):n("span",[e._v(" ("+e._s(e._f("edad")(t.row.fechaNacimiento))+") ")])]}}])}),n("b-table-column",{attrs:{field:"id",label:"Opciones"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.row.fechaFallecimiento&&!t.row.vendido,expression:"!props.row.fechaFallecimiento && !props.row.vendido"}],attrs:{type:"is-info"},on:{click:function(n){return e.eliminar(t.row)}}},[n("b-icon",{attrs:{icon:"pencil"}})],1),e._v("   "),n("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.row.fechaFallecimiento&&!t.row.vendido&&"H"===t.row.genero,expression:"\n              !props.row.fechaFallecimiento &&\n              !props.row.vendido &&\n              props.row.genero === 'H'\n            "}],attrs:{type:"is-danger",outlined:""},on:{click:function(n){return e.apareamientos(t.row)}}},[n("b-icon",{attrs:{icon:"heart"}})],1),e._v("   "),n("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.row.fechaFallecimiento&&!t.row.vendido,expression:"!props.row.fechaFallecimiento && !props.row.vendido"}],attrs:{type:"is-success"},on:{click:function(n){return e.marcarVendido(t.row)}}},[n("b-icon",{attrs:{icon:"cash"}})],1),e._v("   "),n("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.row.fechaFallecimiento&&!t.row.vendido,expression:"!props.row.fechaFallecimiento && !props.row.vendido"}],attrs:{type:"is-warning"},on:{click:function(n){return e.marcarFallecido(t.row)}}},[n("b-icon",{attrs:{icon:"coffin"}})],1),e._v("   "),n("b-button",{attrs:{type:"is-danger"},on:{click:function(n){return e.eliminar(t.row)}}},[n("b-icon",{attrs:{icon:"delete"}})],1),e._v("   "),n("b-tag",{directives:[{name:"show",rawName:"v-show",value:t.row.vendido,expression:"props.row.vendido"}],attrs:{type:"is-success"}},[e._v(" Vendido ")])]}}])})],1)],1)])])},A=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-carousel",{directives:[{name:"show",rawName:"v-show",value:e.conejo.fotos&&e.conejo.fotos.length>0,expression:"conejo.fotos && conejo.fotos.length > 0"}],staticStyle:{"max-width":"400px"},attrs:{"pause-info":!1}},e._l(e.conejo.fotos,(function(t,a){return n("b-carousel-item",{key:e.conejo.identificador+a,nativeOn:{click:function(e){e.stopPropagation()}}},[n("foto-de-conejo",{attrs:{conejo:e.conejo,foto:t}})],1)})),1)},V=[],Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-loading",{attrs:{"is-full-page":!1,"can-cancel":!0},model:{value:e.cargando,callback:function(t){e.cargando=t},expression:"cargando"}}),n("img",{directives:[{name:"show",rawName:"v-show",value:e.url,expression:"url"}],attrs:{src:e.url,alt:""},on:{click:e.ampliarImagen}}),n("b-modal",{on:{"after-leave":e.onModalCerrado},model:{value:e.mostrarModal,callback:function(t){e.mostrarModal=t},expression:"mostrarModal"}},[n("p",{staticClass:"image"},[n("img",{attrs:{src:e.url}})])])],1)},H=[],T={props:["conejo","foto"],data:function(){return{url:"",mostrarModal:!1,click:!1,cargando:!1}},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cargando=!0,t.next=3,Object(O["b"])(Object(O["d"])(Object(O["c"])(),"conejos/".concat(e.conejo.identificador,"/").concat(e.foto)));case 3:e.url=t.sent,e.cargando=!1;case 5:case"end":return t.stop()}}),t)})))()},methods:{onModalCerrado:function(){this.click=!1},ampliarImagen:function(){this.click||(this.mostrarModal=!0,this.click=!0)}}},z=T,G=Object(s["a"])(z,Y,H,!1,null,null,null),q=G.exports,X={components:{FotoDeConejo:q},props:["conejo"]},B=X,L=Object(s["a"])(B,P,V,!1,null,null,null),U=L.exports,J="Fallecidos",W="Vivos",K="Todos",Q="Vendidos",Z="No vendidos",ee="Todos",te="Todos",ne="H",ae="M",oe={components:{FotosDeConejo:U},data:function(){return{mostrarFiltros:!1,filtrosSeleccionados:{fallecidos:W,vendidos:Z,genero:te},filtros:{fallecidos:[J,W,K],vendidos:[Q,Z,ee],generos:[ae,ne,te]},conejos:[],cargando:!1,bd:null}},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$.obtener();case 2:return e.bd=t.sent,t.next=5,e.obtenerConejosYEscucharCambios();case 5:case"end":return t.stop()}}),t)})))()},methods:{totalMachos:function(){var e,t=0,n=Object(_["a"])(this.conejos);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.genero===ae&&t++}}catch(o){n.e(o)}finally{n.f()}return t},totalHembras:function(){var e,t=0,n=Object(_["a"])(this.conejos);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.genero===ne&&t++}}catch(o){n.e(o)}finally{n.f()}return t},apareamientos:function(e){this.$router.push({name:"Apareamientos",params:{id:e.id}})},marcarFallecido:function(e){var t=this;this.$buefy.dialog.confirm({message:"¿Marcar como fallecido? Esto no se puede deshacer",cancelText:"Cancelar",confirmText:"Sí, marcar",onConfirm:function(){var n=Object(x["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.fechaFallecimiento=(new Date).setHours(0,0,0,0),Object(y["j"])(Object(y["d"])(t.bd,"conejos",e.id),e);case 2:case"end":return n.stop()}}),n)})));function a(){return n.apply(this,arguments)}return a}()})},marcarVendido:function(e){var t=this;this.$buefy.dialog.prompt({message:"Ingresa la cantidad: ",inputAttrs:{type:"number",placeholder:"Escribe la cantidad",min:1},trapFocus:!0,onConfirm:function(){var n=Object(x["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=parseFloat(a),e.vendido=!0,n.t0=y["a"],n.next=5,$.obtenerColeccionVentas();case 5:n.t1=n.sent,n.t2={monto:a,idConejo:e.id,fecha:(new Date).getTime()},(0,n.t0)(n.t1,n.t2),Object(y["j"])(Object(y["d"])(t.bd,"conejos",e.id),e),t.$buefy.toast.open("Vendido");case 10:case"end":return n.stop()}}),n)})));function a(e){return n.apply(this,arguments)}return a}()})},eliminar:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$buefy.dialog.confirm({message:"¿Eliminar conejo? Esto no se puede deshacer",cancelText:"Cancelar",confirmText:"Sí, eliminar",onConfirm:function(){var n=Object(x["a"])(regeneratorRuntime.mark((function n(){var a,o,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.cargando=!0,a=Object(O["c"])(),o=Object(_["a"])(e.fotos),n.prev=3,o.s();case 5:if((r=o.n()).done){n.next=11;break}return c=r.value,n.next=9,Object(O["a"])(Object(O["d"])(a,"conejos/".concat(e.identificador,"/").concat(c)));case 9:n.next=5;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](3),o.e(n.t0);case 16:return n.prev=16,o.f(),n.finish(16);case 19:return n.t1=y["c"],n.t2=y["d"],n.next=23,$.obtener();case 23:return n.t3=n.sent,n.t4=e.id,n.t5=(0,n.t2)(n.t3,"conejos",n.t4),n.next=28,(0,n.t1)(n.t5);case 28:t.cargando=!1,t.$buefy.toast.open("Eliminado");case 30:case"end":return n.stop()}}),n,null,[[3,13,16,19]])})));function a(){return n.apply(this,arguments)}return a}()});case 1:case"end":return n.stop()}}),n)})))()},obtenerConejosYEscucharCambios:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.conejos=[],n=[],e.filtrosSeleccionados.fallecidos===W?n.push(Object(y["k"])("fechaFallecimiento","==",null)):e.filtrosSeleccionados.fallecidos===J&&n.push(Object(y["k"])("fechaFallecimiento","!=",null)),e.filtrosSeleccionados.vendidos===Q?n.push(Object(y["k"])("vendido","==",!0)):e.filtrosSeleccionados.vendidos===Z&&n.push(Object(y["k"])("vendido","==",!1)),e.filtrosSeleccionados.genero===ne?n.push(Object(y["k"])("genero","==","H")):e.filtrosSeleccionados.genero===ae&&n.push(Object(y["k"])("genero","==","M")),e.cargando=!0,t.t0=y["i"],t.t1=void 0,t.next=10,$.obtenerColeccionConejos();case 10:t.t2=t.sent,t.t3=[t.t2].concat(n),a=t.t0.apply.call(t.t0,t.t1,t.t3),Object(y["h"])(a,(function(t){t.docChanges().forEach((function(t){e.cargando=!0;var n=t.doc.data(),a=t.doc.id;if("added"===t.type&&(n.id=a,e.conejos.push(n)),"modified"===t.type){var o=e.indiceDeConejo(a);-1!==o&&e.$set(e.conejos,o,n)}if("removed"===t.type){var r=e.indiceDeConejo(a);-1!==r&&e.conejos.splice(r,1)}})),e.cargando=!1}));case 14:case"end":return t.stop()}}),t)})))()},indiceDeConejo:function(e){return this.conejos.findIndex((function(t){return t.id===e}))}}},re=oe,ce=(n("346b"),Object(s["a"])(re,D,A,!1,null,"71c89a58",null)),ie=ce.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero is-medium is-info"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"title"},[e._v("Acerca de")]),n("img",{staticClass:"image",attrs:{src:"https://picsum.photos/200"}}),n("h2",{staticClass:"subtitle"},[e._v("App para cunicultura")]),e._v(" Creado y mantenido con "),n("b-icon",{attrs:{icon:"heart",type:"is-danger"}}),e._v(" por "),n("a",{staticClass:"has-text-warning",attrs:{target:"_blank",href:"https://parzibyte.me/blog"}},[e._v("Parzibyte")]),e._v(" usando "),n("b-icon",{attrs:{icon:"vuejs"}}),e._v(" y "),n("b-icon",{attrs:{icon:"firebase"}}),n("br"),n("a",{staticClass:"has-text-warning",attrs:{target:"_blank",href:"https://parzibyte.me/blog/sigueme/"}},[e._v("Puedes seguirme aquí")]),e._v(" y ver "),n("a",{staticClass:"has-text-warning",attrs:{href:"https://parzibyte.me/blog/software-creado-por-parzibyte/",target:"_blank"}},[e._v("más proyectos aquí")])],1)])])},le=[],ue={},de=Object(s["a"])(ue,se,le,!1,null,null,null),fe=de.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("b-table",{attrs:{data:e.ventas,loading:e.cargando,"mobile-cards":!0,hoverable:""},scopedSlots:e._u([{key:"empty",fn:function(){return[n("div",{staticClass:"has-text-centered"},[e._v("No hay registros")])]},proxy:!0},{key:"footer",fn:function(){return[n("th",[n("div",{staticClass:"th-wrap"},[e._v("Total")])]),n("th",{attrs:{colspan:"2"}},[n("div",{staticClass:"th-wrap"},[e._v(e._s(e._f("dinero")(e.total())))])])]},proxy:!0}])},[n("b-table-column",{attrs:{field:"idConejo",label:"Conejo"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.conejoPorId(t.row.idConejo).identificador)+" ")]}}])}),n("b-table-column",{attrs:{field:"monto",label:"Monto"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("dinero")(t.row.monto))+" ")]}}])}),n("b-table-column",{attrs:{field:"padre",label:"Fecha"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("timestampAFecha")(t.row.fecha))+" ")]}}])})],1)],1)])])},me=[],be={data:function(){return{ventas:[],cargando:!1,conejos:[]}},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerConejosYEscucharCambios();case 2:return t.next=4,e.obtenerVentasYEscucharCambios();case 4:case"end":return t.stop()}}),t)})))()},methods:{total:function(){var e,t=0,n=Object(_["a"])(this.ventas);try{for(n.s();!(e=n.n()).done;){var a=e.value;t+=a.monto}}catch(o){n.e(o)}finally{n.f()}return t},conejoPorId:function(e){var t,n=Object(_["a"])(this.conejos);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.id===e)return a}}catch(o){n.e(o)}finally{n.f()}return{}},obtenerConejosYEscucharCambios:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cargando=!0,t.t0=y["i"],t.next=4,$.obtenerColeccionConejos();case 4:t.t1=t.sent,t.t2=Object(y["k"])("fechaFallecimiento","==",null),n=(0,t.t0)(t.t1,t.t2),Object(y["h"])(n,(function(t){t.docChanges().forEach((function(t){e.cargando=!0;var n=t.doc.data(),a=t.doc.id;if("added"===t.type&&(n.id=a,e.conejos.push(n)),"modified"===t.type){var o=e.indiceDeConejo(a);-1!==o&&e.$set(e.conejos,o,n)}if("removed"===t.type){var r=e.indiceDeConejo(a);-1!==r&&e.conejos.splice(r,1)}})),e.cargando=!1}));case 8:case"end":return t.stop()}}),t)})))()},indiceDeConejo:function(e){return this.conejos.findIndex((function(t){return t.id===e}))},indiceDeVenta:function(e){return this.ventas.findIndex((function(t){return t.id===e}))},obtenerVentasYEscucharCambios:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cargando=!0,t.t0=y["i"],t.next=4,$.obtenerColeccionVentas();case 4:t.t1=t.sent,n=(0,t.t0)(t.t1),Object(y["h"])(n,(function(t){t.docChanges().forEach((function(t){e.cargando=!0;var n=t.doc.data(),a=t.doc.id;if("added"===t.type&&(n.id=a,e.ventas.push(n)),"modified"===t.type){var o=e.indiceDeVenta(a);-1!==o&&e.$set(e.ventas,o,n)}if("removed"===t.type){var r=e.indiceDeVenta(a);-1!==r&&e.ventas.splice(r,1)}})),e.cargando=!1}));case 7:case"end":return t.stop()}}),t)})))()}}},he=be,ve=Object(s["a"])(he,pe,me,!1,null,null,null),ge=ve.exports,je={components:{AgregarConejo:N,Conejos:ie,AcercaDe:fe,Ventas:ge},data:function(){return{tabActiva:1}}},we=je,Ce=Object(s["a"])(we,g,j,!1,null,null,null),_e=Ce.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section"},[n("div",{staticClass:"columns"},[n("b-modal",{attrs:{active:e.mostrarModalFecha,"has-modal-card":"","trap-focus":""},on:{"update:active":function(t){e.mostrarModalFecha=t}}},[n("seleccionador-fecha",{on:{seleccionada:e.onFechaSeleccionada}})],1),n("div",{staticClass:"column"},[n("b-button",{attrs:{loading:e.cargando,type:"is-info","icon-left":"arrow-left"},on:{click:e.volver}},[e._v("Volver ")]),e._v("   "),n("b-button",{attrs:{loading:e.cargando,type:"is-success","icon-left":"plus"},on:{click:e.agregar}},[e._v("Agregar ")]),n("br"),n("br"),n("b-notification",{attrs:{type:"is-success",closable:!1}},[n("strong",[e._v("Coneja: ")]),e._v(" "+e._s(e.coneja.identificador)+" ")]),n("b-table",{attrs:{data:e.apareamientos,loading:e.cargando,"mobile-cards":!0,hoverable:""},scopedSlots:e._u([{key:"empty",fn:function(){return[n("div",{staticClass:"has-text-centered"},[e._v("No hay registros")])]},proxy:!0}])},[n("b-table-column",{attrs:{field:"padre",label:"Padre"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.conejoPorId(t.row.padre).identificador)+" ")]}}])}),n("b-table-column",{attrs:{label:"Inicio"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("timestampAFecha")(t.row.fechaInicio))+" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.fechaFin,expression:"!props.row.fechaFin"}]},[e._v("("+e._s(e._f("edad")(t.row.fechaInicio))+")")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.row.fechaFin,expression:"props.row.fechaFin"}]},[e._v("("+e._s(e._f("diferenciaAEdad")(t.row.fechaFin-t.row.fechaInicio))+")")])]}}])}),n("b-table-column",{attrs:{field:"fechaFin",label:"Fin"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("timestampAFecha")(t.row.fechaFin))+" "),n("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.row.fechaFin,expression:"!props.row.fechaFin"}],attrs:{type:"is-info"},on:{click:function(n){return e.marcarFin(t.row)}}},[e._v(" Marcar fin ")])]}}])})],1)],1)],1)])},ye=[],ke=n("0829"),Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[e._m(0),n("section",{staticClass:"modal-card-body"},[n("b-datepicker",{attrs:{inline:"",locale:"es-MX",placeholder:"Clic para seleccionar",icon:"calendar-today","trap-focus":""},model:{value:e.fechaSeleccionada,callback:function(t){e.fechaSeleccionada=t},expression:"fechaSeleccionada"}})],1),n("footer",{staticClass:"modal-card-foot"},[n("b-button",{attrs:{type:"is-success"},on:{click:function(t){return e.onFechaSeleccionada()}}},[e._v("Ok")]),n("b-button",{on:{click:function(t){return e.cerrar()}}},[e._v("Cancelar")])],1)])},Fe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v("Seleccione fecha")])])}],Se={data:function(){return{fechaSeleccionada:new Date}},methods:{cerrar:function(){this.$parent.close()},onFechaSeleccionada:function(){this.$emit("seleccionada",this.fechaSeleccionada)}}},Re=Se,$e=Object(s["a"])(Re,Oe,Fe,!1,null,null,null),Ee=$e.exports,Me={components:{SeleccionadorFecha:Ee},data:function(){return{cargando:!1,apareamientos:[],conejos:[],coneja:{},mostrarModalFecha:!1,apareamientoSeleccionado:null}},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerConeja();case 2:return t.next=4,e.obtenerConejosYEscucharCambios();case 4:return t.next=6,e.obtenerApareamientos();case 6:case"end":return t.stop()}}),t)})))()},methods:{marcarFin:function(e){this.apareamientoSeleccionado=e,this.mostrarModalFecha=!0},onFechaSeleccionada:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.cargando=!0,t.mostrarModalFecha=!1,a=Object.assign({},t.apareamientoSeleccionado),a.fechaFin=e.setHours(0,0,0,0),n.t0=ke["j"],n.t1=ke["d"],n.next=8,$.obtener();case 8:n.t2=n.sent,n.t3=t.apareamientoSeleccionado.id,n.t4=(0,n.t1)(n.t2,"apareamientos",n.t3),n.t5=a,(0,n.t0)(n.t4,n.t5),t.cargando=!1;case 14:case"end":return n.stop()}}),n)})))()},obtenerConeja:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cargando=!0,t.t0=ke["f"],t.t1=ke["d"],t.next=5,$.obtener();case 5:return t.t2=t.sent,t.t3=e.$route.params.id,t.t4=(0,t.t1)(t.t2,"conejos",t.t3),t.next=10,(0,t.t0)(t.t4);case 10:n=t.sent,n.exists()?e.coneja=n.data():e.$buefy.toast.open("Error obteniendo coneja por id"),e.cargando=!1;case 13:case"end":return t.stop()}}),t)})))()},conejoPorId:function(e){var t,n=Object(_["a"])(this.conejos);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.id===e)return a}}catch(o){n.e(o)}finally{n.f()}return{}},obtenerConejosYEscucharCambios:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cargando=!0,t.t0=ke["i"],t.next=4,$.obtenerColeccionConejos();case 4:t.t1=t.sent,t.t2=Object(ke["k"])("genero","==","M"),t.t3=Object(ke["k"])("fechaFallecimiento","==",null),t.t4=Object(ke["k"])("vendido","==",!1),n=(0,t.t0)(t.t1,t.t2,t.t3,t.t4),Object(ke["h"])(n,(function(t){t.docChanges().forEach((function(t){e.cargando=!0;var n=t.doc.data(),a=t.doc.id;if("added"===t.type&&(n.id=a,e.conejos.push(n)),"modified"===t.type){var o=e.indiceDeConejo(a);-1!==o&&e.$set(e.conejos,o,n)}if("removed"===t.type){var r=e.indiceDeConejo(a);-1!==r&&e.conejos.splice(r,1)}})),e.cargando=!1}));case 10:case"end":return t.stop()}}),t)})))()},indiceDeConejo:function(e){return this.conejos.findIndex((function(t){return t.id===e}))},indiceDeApareamiento:function(e){return this.apareamientos.findIndex((function(t){return t.id===e}))},volver:function(){this.$router.go(-1)},agregar:function(){this.$router.push({name:"AgregarApareamiento",params:{id:this.$route.params.id}})},obtenerApareamientos:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cargando=!0,t.t0=ke["i"],t.next=4,$.obtenerColeccionApareamientos();case 4:t.t1=t.sent,t.t2=Object(ke["k"])("madre","==",e.$route.params.id),n=(0,t.t0)(t.t1,t.t2),Object(ke["h"])(n,(function(t){t.docChanges().forEach((function(t){e.cargando=!0;var n=t.doc.data(),a=t.doc.id;if("added"===t.type&&(n.id=a,e.apareamientos.push(n)),"modified"===t.type){var o=e.indiceDeApareamiento(a);-1!==o&&e.$set(e.apareamientos,o,n)}if("removed"===t.type){var r=e.indiceDeApareamiento(a);-1!==r&&e.apareamientos.splice(r,1)}})),e.cargando=!1}));case 8:case"end":return t.stop()}}),t)})))()}}},Ie=Me,Ne=Object(s["a"])(Ie,xe,ye,!1,null,null,null),De=Ne.exports,Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("b-button",{attrs:{type:"is-info","icon-left":"arrow-left"},on:{click:e.volver}},[e._v("Volver ")]),n("br"),n("br"),n("b-notification",{attrs:{type:"is-success",closable:!1}},[n("strong",[e._v("Coneja: ")]),e._v(" "+e._s(e.coneja.identificador)+" ")]),n("b-field",{attrs:{label:"Padre"}},[n("b-select",{attrs:{loading:e.cargando,placeholder:"Seleccione un conejo"},model:{value:e.apareamiento.padre,callback:function(t){e.$set(e.apareamiento,"padre",t)},expression:"apareamiento.padre"}},e._l(e.conejos,(function(t){return n("option",{key:t.id,domProps:{value:t}},[e._v(" "+e._s(t.identificador)+" ")])})),0)],1),n("b-field",{attrs:{label:"Fecha de inicio"}},[n("b-datepicker",{attrs:{locale:"es-MX",placeholder:"Clic para seleccionar...",icon:"calendar-today","trap-focus":"","icon-right":e.apareamiento.fechaInicio?"close-circle":"","icon-right-clickable":""},on:{"icon-right-click":function(t){e.conejo.fechaInicio=null}},model:{value:e.apareamiento.fechaInicio,callback:function(t){e.$set(e.apareamiento,"fechaInicio",t)},expression:"apareamiento.fechaInicio"}})],1),n("b-button",{attrs:{loading:e.cargando,type:"is-success"},on:{click:e.guardar}},[e._v("Guardar")])],1)])])},Pe=[],Ve={data:function(){return{coleccionConejos:null,apareamiento:{padre:null,fechaInicio:new Date},conejos:[],cargando:!1,coneja:{}}},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.obtenerConeja();case 2:return t.next=4,$.obtenerColeccionConejos();case 4:return e.coleccionConejos=t.sent,t.next=7,e.obtenerConejosYEscucharCambios();case 7:case"end":return t.stop()}}),t)})))()},methods:{obtenerConeja:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cargando=!0,t.t0=y["f"],t.t1=y["d"],t.next=5,$.obtener();case 5:return t.t2=t.sent,t.t3=e.$route.params.id,t.t4=(0,t.t1)(t.t2,"conejos",t.t3),t.next=10,(0,t.t0)(t.t4);case 10:n=t.sent,n.exists()?e.coneja=n.data():e.$buefy.toast.open("Error obteniendo coneja por id"),e.cargando=!1;case 13:case"end":return t.stop()}}),t)})))()},guardar:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.apareamiento.padre&&e.apareamiento.fechaInicio){t.next=2;break}return t.abrupt("return");case 2:return n=Object.assign({},e.apareamiento),n.fechaFin=null,n.fechaInicio=n.fechaInicio.setHours(0,0,0,0),n.padre=n.padre.id,n.madre=e.$route.params.id,t.t0=y["a"],t.next=10,$.obtenerColeccionApareamientos();case 10:t.t1=t.sent,t.t2=n,(0,t.t0)(t.t1,t.t2),e.$buefy.toast.open("Guardado");case 14:case"end":return t.stop()}}),t)})))()},indiceDeConejo:function(e){return this.conejos.findIndex((function(t){return t.id===e}))},obtenerConejosYEscucharCambios:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(y["i"])(e.coleccionConejos,Object(y["k"])("genero","==","M"),Object(y["k"])("fechaFallecimiento","==",null),Object(y["k"])("vendido","==",!1)),Object(y["h"])(n,(function(t){e.cargando=!0,t.docChanges().forEach((function(t){var n=t.doc.data(),a=t.doc.id;if("added"===t.type&&(n.id=a,e.conejos.push(n)),"modified"===t.type){var o=e.indiceDeConejo(a);-1!==o&&e.$set(e.conejos,o,n)}if("removed"===t.type){var r=e.indiceDeConejo(a);-1!==r&&e.conejos.splice(r,1)}})),e.cargando=!1}));case 2:case"end":return t.stop()}}),t)})))()},volver:function(){this.$router.go(-1)}}},Ye=Ve,He=Object(s["a"])(Ye,Ae,Pe,!1,null,null,null),Te=He.exports;a["a"].use(v["a"]);var ze=new v["a"]({routes:[{path:"/",name:"Tabs",component:_e},{path:"/apareamientos/:id",name:"Apareamientos",component:De},{path:"/agregar-apareamiento/:id",name:"AgregarApareamiento",component:Te}]});a["a"].use(d["a"]),a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(u)},router:ze}).$mount("#app")},"85ec":function(e,t,n){}});